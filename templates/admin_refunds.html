{% extends "base.html" %}
{% block content %}

<style>
  body {
    background: radial-gradient(circle at 30% 30%, #ff9f1c, transparent 35%),
      radial-gradient(circle at 90% 20%, #b64f00, transparent 65%),
      linear-gradient(135deg, #2b4480, #020617);
  }
</style>

<h4 class="mb-3">Refund Requests</h4>

<table class="table table-striped shadow">
    <thead>
        <tr>
            <th>Booking ID</th>
            <th>User</th>
            <th>Amount</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </thead>

    <tbody>
    {% for r in refunds %}
        <tr>
            <td>{{ r[0] }}</td>
            <td>{{ r[1] }}</td>
            <td>₹{{ r[2] }}</td>
            <td>
                {% if r[3] == 'refunded' %}
                    <span class="badge bg-success">Refunded</span>
                {% else %}
                    <span class="badge bg-warning">Pending</span>
                {% endif %}
            </td>
            <td>
                {% if r[3] != 'refunded' %}
                    <a href="/admin/refund/{{ r[0] }}" 
                       class="btn btn-sm btn-danger"
                       onclick="return confirm('Process refund?')">
                        Process Refund
                    </a>
                {% else %}
                    —
                {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}
